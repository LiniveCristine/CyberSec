import socket
import sys



def checkport(IP, porta):
    cliente = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    cliente.settimeout(0.2)

    codigo = cliente.connect_ex((IP, porta))
    if codigo  == 0:
        print (f"{porta}/tcp aberta")
        
    cliente.close()    

def dns(dominio):
    IP = socket.getaddrinfo(dominio, None, socket.AF_INET )
    return str(IP[0][4][0])


dominio = sys.argv[1]
IP = dns(dominio)


for porta in range(65536):
    checkport(IP, porta)


