# ğŸ MINI NETCAT

![Adobe Express - video](https://github.com/user-attachments/assets/66a49c00-2b0a-4305-8a2a-b1befcc76fcf)


> âš ï¸ **AVISO**
> Recomendo fortemente a leitura da documentaÃ§Ã£o dos projetos **Cliente/Servidor TCP** e **Cliente/Servidor UDP**.
> Nela explico a **fase inicial do projeto**, que Ã© fundamental para o entendimento deste cÃ³digo.

Este projeto Ã© uma uniÃ£o dos seguintes projetos:

- ğŸ“¡ Cliente/Servidor **TCP**
- ğŸ“¡ Cliente/Servidor **UDP**

---

## ğŸš© FLAGS

| Flag | DescriÃ§Ã£o                 |
| ---- | ------------------------- |
| `-s` | Executa como **servidor** |
| `-c` | Executa como **cliente**  |

---

## ğŸŒ PROTOCOLOS SUPORTADOS

- **TCP**
- **UDP**

---

## ğŸ“¥ PARÃ‚METROS

- **ip** â†’ usado apenas no cliente
- **porta** â†’ porta de comunicaÃ§Ã£o

---

## â–¶ï¸ COMO EXECUTAR

### ğŸ–¥ï¸ Servidor

```bash
python3 netcat.py -s [TCP/UDP] porta
```

### ğŸ’» Cliente

```bash
python3 netcat.py -c [TCP/UDP] ip porta
```

---

## ğŸ§  EXPLICANDO O CÃ“DIGO

### ğŸ“ ESTRUTURA DE ARQUIVOS

- **Arquivo principal**
  - `netcat.py`

- **Arquivos com classes**
  - `servers.py`
  - `clients.py`
  - `registrarLogs.py`

---

## ğŸ§± CLASSE SERVER

Nesta classe reunimos nossos **servidores TCP e UDP**.

> ğŸ“Œ **OBS:** A explicaÃ§Ã£o detalhada do cÃ³digo estÃ¡ em suas respectivas pastas.

- Cada servidor serÃ¡ um **mÃ©todo da classe**
- Para iniciar um servidor, basta criar uma instÃ¢ncia da classe `Server`

### ğŸ“Œ Exemplo

```python
servidor = servers.Server
servidor.TCP(IP, porta)
```

â¡ï¸ Aqui estamos utilizando o mÃ©todo **TCP**, que estÃ¡ contido na classe.

> âš ï¸ **Importante**
> NÃ£o esqueÃ§a de importar o arquivo da classe no arquivo principal:

```python
import servers
```

> â— NÃ£o confundir o arquivo `servers.py` com a classe `Server`.

---

## ğŸ‘¤ CLASSE CLIENTE

Assim como no servidor, reunimos todos os **clientes TCP e UDP** em uma Ãºnica classe.

- Importamos o arquivo no `netcat.py`
- Criamos uma instÃ¢ncia do cliente
- Chamamos o mÃ©todo desejado

### ğŸ“Œ Exemplo

```python
cliente = clients.Cliente
cliente.TCP(IP, porta)
```

---

## ğŸ“ CLASSE LOGS

ResponsÃ¡vel por registrar os **logs do servidor** ğŸ—‚ï¸

### ğŸ”§ Funcionamento

- Abre um arquivo
- Escreve a informaÃ§Ã£o
- Fecha o arquivo

### ğŸ“¥ ParÃ¢metros

- **mensagem** â†’ texto que serÃ¡ gravado
- **arquivo** â†’ nome do arquivo de log

Exemplos de logs:

- `logsTCP.txt`
- `logsUDP.txt`

### ğŸ“Œ Exemplo

```python
logs = registrarLogs.Logs
logs.RegistrarLogs(mensagem, 'MeuArquivo')
```

> âš ï¸ **OBS:**
> Este arquivo deve ser importado **apenas nos servidores**, pois os logs sÃ£o usados lÃ¡.
> âŒ **NÃƒO** deve ser importado no `netcat.py`.

---

## ğŸ§© ARQUIVO PRINCIPAL (`netcat.py`)

### ğŸ“¦ Imports necessÃ¡rios

```python
import servers
import clients
import sys
```

---

## ğŸ¯ LÃ“GICA PRINCIPAL

- A variÃ¡vel `fun` recebe o **primeiro argumento** digitado pelo usuÃ¡rio:
  - `-s` â†’ servidor
  - `-c` â†’ cliente
  - `-h` ou `--help` â†’ ajuda

Criamos uma variÃ¡vel `ajuda` que mostra o **modo correto de uso do comando**.

---

## ğŸ–¥ï¸ MODO SERVIDOR

Quando `fun == -s`:

1. Identificamos o **tipo de servidor** (TCP ou UDP)
2. Coletamos a **porta**
3. Criamos uma instÃ¢ncia do servidor

```python
servidor = servers.Server
```

4. Filtramos pelo tipo:

- `servidor.TCP`
- `servidor.UDP`

---

## ğŸ’» MODO CLIENTE

Segue a **mesma lÃ³gica do servidor**, com uma diferenÃ§a:

â¡ï¸ O cliente precisa informar o **endereÃ§o IP** para conexÃ£o.

---

## ğŸ›‘ TRATAMENTO DE ERROS

Utilizamos `try ... except` para evitar que o programa quebre inesperadamente.

### ğŸ“Œ Exemplo bÃ¡sico

```python
try:
    cliente.UDP(IP, porta)
except KeyboardInterrupt:
    exit(0)
```

- `KeyboardInterrupt` ocorre quando usamos **CTRL + C**
- Dessa forma, o programa encerra **sem exibir erros feios no terminal** âœ¨

---

## âœ… CONCLUSÃƒO

Este projeto simula um **mini netcat**, permitindo comunicaÃ§Ã£o via **TCP e UDP**, com organizaÃ§Ã£o em classes, tratamento de erros e sistema de logs ğŸ“¡ğŸ§©
