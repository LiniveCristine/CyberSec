# üñß Criando um Servidor TCP em Python

Este guia apresenta os conceitos b√°sicos para cria√ß√£o de um **servidor TCP** utilizando a biblioteca `socket` do Python.

---

## üì¶ Importando a biblioteca Socket

```python
import socket
```

A biblioteca `socket` √© utilizada para trabalhar com **redes**, permitindo a cria√ß√£o de servidores e clientes TCP/UDP.

### Principais fun√ß√µes e m√©todos

- `socket()`
- `bind()`
- `listen()`
- `accept()`
- `connect()`
- `connect_ex()`
- `send()`
- `recv()`
- `close()`

---

## üöÄ Iniciando o Socket

```python
server = socket.socket()
```

Cria um socket com configura√ß√µes padr√£o.

---

## üåê Trabalhando com IPv4 ou IPv6

- `socket.AF_INET` ‚Üí IPv4
- `socket.AF_INET6` ‚Üí IPv6

Exemplo usando **IPv4**:

```python
server = socket.socket(socket.AF_INET)
```

---

## üîÑ Trabalhando com TCP ou UDP

- `socket.SOCK_STREAM` ‚Üí TCP
- `socket.SOCK_DGRAM` ‚Üí UDP

Exemplo usando **TCP**:

```python
server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
```

---

## üìç Definindo o Socket do Servidor

```python
server.bind(('0.0.0.0', 8080))
```

Com o m√©todo `bind()` voc√™ define:

- **Endere√ßo IP**: `0.0.0.0` ‚Üí aceita conex√µes em todas as interfaces da m√°quina
- **Porta**: `8080`

Isso permite que qualquer endere√ßo da m√°quina seja acessado pela porta **8080**.

---

## üëÇ Aguardando Conex√µes (Escuta)

```python
server.listen(1)
```

- Inicia o modo de escuta do servidor
- O n√∫mero `1` indica que apenas **uma conex√£o** ser√° aceita por vez

---

## ü§ù Aceitando Conex√µes

```python
conexao, endCliente = server.accept()
```

- O m√©todo `accept()` **bloqueia a execu√ß√£o** at√© que um cliente se conecte
- Ele retorna:
  - O **socket do cliente**: endere√ßo IP e porta do cliente
  - O **Informa√ß√µes sobre a conex√£o**

---

# Enviar e Receber Dados do Cliente

√â poss√≠vel enviar mensagens para o cliente e receber mensagens dele utilizando os m√©todos:

- `.send()`
- `.recv()`

## Codifica√ß√£o e Decodifica√ß√£o

Um detalhe importante √© que as mensagens trafegam em **bytes**.
Por isso:

- **Encode** ‚Üí no momento do envio
- **Decode** ‚Üí no momento do recebimento

### Exemplo: Enviando Mensagem

```python
mensagem = input("> ")
conexao.send(mensagem.encode())
```

Neste caso, a mensagem digitada √© codificada em bytes e enviada ao cliente.

### Exemplo: Recebendo Mensagem

```python
dados_cliente = conexao.recv(1024)
print(f"{dados_cliente.decode()}\n")
```

- O m√©todo `.recv(1024)` recebe at√© **1024 bytes**
- A mensagem recebida √© decodificada antes de ser exibida

---

# Sistema de Senha Simples

Utilizando os m√©todos apresentados, √© poss√≠vel implementar um **sistema de autentica√ß√£o simples**.

## Defini√ß√£o da Senha do Servidor

```python
senha_servidor = "123456\n"
```

> ‚ö†Ô∏è Importante:
> Por padr√£o, a resposta do usu√°rio vem com uma **quebra de linha (`\n`)**.
> Caso ela n√£o seja inclu√≠da na senha do servidor, ocorrer√° erro na valida√ß√£o.

## Coletando a Senha do Cliente

```python
conexao.send("Digite a senha: ".encode())
senha_cliente = conexao.recv(1024)
```

## Valida√ß√£o da Senha

```python
if senha_cliente.decode() == senha_servidor:
    print("Senha correta")
else:
    print("Senha incorreta")
```

A senha recebida √© decodificada e comparada com a senha definida localmente no servidor.
